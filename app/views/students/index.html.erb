<p id="notice"><%= notice %></p>
<div>
  <h1>Students</h1>



  <table class="table table-light table-striped table-bordered rounded">
    <thead>
      <tr>
        <th colspan="1">Name</th>
        <th colspan="1">Team</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @students.each do |student| %>
        <tr>
          <td><%=@users.find(student.user_id).name %></td>
          <td>
          <% if Team.exists?(id: student.team_id) %>
            <%= @teams.find(student.team_id).team_name%>
          <% else %>
            None 
          <% end %></td>
          <td><%= link_to 'Show', student %></td>
          <td><%= link_to 'Edit', edit_student_path(student) %></td>
          <td><%= link_to 'Destroy', student, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <% if @teams.length != 0 %>
    <%= link_to 'New Student', new_student_path %>
  <% else %>
    <p> Unable to add student. Please add a group first. </p>
  <% end %>
  <p>View <%= link_to "Courses", courses_path %></p>
</div>
